<script id="project-form-new" type="text/x-handlebars-template">
    <form id="formProjectNew" class="form-horizontal">
        <fieldset>
            <div class="control-group required">
                <label class="control-label" for="formProjectNewTitle">Title</label>
                <div class="controls">
                    <input id="formProjectNewTitle" name="title" type="text" placeholder="enter project name" class="span3" required="required" />
                </div>
            </div>
            <div class="control-group required">
                <label class="control-label" for="formProjectNewManagerId">Project manager</label>
                <div class="controls">
                    <select id="formProjectNewManagerId" name="managerId" class="span3 required">
                        <option value="#">-- select --</option>
                        {{#each users}}
                        <option value="{{id}}">{{fullname}}</option>
                        {{/each}}
                    </select>
                </div>
            </div>
            <div class="control-group required">
                <label class="control-label" for="formProjectNewDateStart">Duration</label>
                <label class="control-label" for="formProjectNewDateEnd" style="display: none;"></label>
                <div class="controls">
                    <div class="input-append date dateStart">
                        <input id="formProjectNewDateStart" name="dateStart" type="text" class="dateInput" size="16" required="required" readonly="readonly"
                               data-validate-type="daterange"
                               data-role="start"
                               data-pair="formProjectNewDateEnd"
                               data-focus="false"
                                />
                        <span class="add-on"><i class="icon-calendar"></i></span>
                    </div>
                    <span class="separator">&mdash;</span>
                    <div class="input-append date dateEnd">
                        <input id="formProjectNewDateEnd" name="dateEnd" type="text" class="dateInput" size="16" required="required" readonly="readonly"
                               data-validate-type="daterange"
                               data-role="end"
                               data-pair="formProjectNewDateStart"
                               data-focus="false"
                                />
                        <span class="add-on"><i class="icon-calendar"></i></span>
                    </div>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label" for="formProjectNewDescription">Description</label>
                <div class="controls">
                    <textarea id="formProjectNewDescription" name="description" class="span3" placeholder="enter project description"></textarea>
                </div>
            </div>
        </fieldset>
    </form>
</script>

<script id="project-form-edit" type="text/x-handlebars-template">
    <form id="formProjectEdit" class="form-horizontal">
        <fieldset>
            <div class="control-group required">
                <label class="control-label" for="formProjectEditTitle">Title</label>
                <div class="controls">
                    <input id="formProjectEditTitle" name="title" type="text" value="{{data.title}}" placeholder="enter project name" class="span3" required="required" />
                </div>
            </div>
            <div class="control-group required">
                <label class="control-label" for="formProjectEditManagerId">Project manager</label>
                <div class="controls">
                    <select id="formProjectEditManagerId" name="managerId" class="span3 required">
                        <option value="#">-- select --</option>
                        {{#each users}}
                        <option value="{{id}}" {{#ifItemSelected id ../data.managerId}}{{/ifItemSelected}}>{{fullname}}</option>
                        {{/each}}
                    </select>
                </div>
            </div>
            <div class="control-group required">
                <label class="control-label" for="formProjectEditDateStart">Duration</label>
                <label class="control-label" for="formProjectEditDateEnd" style="display: none;"></label>
                <div class="controls">
                    <div class="input-append date dateStart">
                        <input id="formProjectEditDateStart" name="dateStart" type="text" value="{{data.dateStartFormatted}}" class="dateInput" size="16" required="required" readonly="readonly"
                            data-validate-type="daterange"
                            data-role="start"
                            data-pair="formProjectEditDateEnd"
                            data-focus="false"
                            data-edit="true"
                        />
                        <span class="add-on"><i class="icon-calendar"></i></span>
                    </div>
                    <span class="separator">&mdash;</span>
                    <div class="input-append date dateEnd">
                        <input id="formProjectEditDateEnd" name="dateEnd" type="text" value="{{data.dateEndFormatted}}" class="dateInput" size="16" required="required" readonly="readonly"
                            data-validate-type="daterange"
                            data-role="end"
                            data-pair="formProjectEditDateStart"
                            data-focus="false"
                            data-edit="true"
                         />
                        <span class="add-on"><i class="icon-calendar"></i></span>
                    </div>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label" for="formProjectEditDescription">Description</label>
                <div class="controls">
                    <textarea id="formProjectEditDescription" name="description" class="span3" placeholder="enter project description">{{data.description}}</textarea>
                </div>
            </div>
        </fieldset>
    </form>
</script>


<script id="project-backlog" type="text/x-handlebars-template">
    <div class="alert alert-info">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        You can prioritize stories by dragging them in lists. You can also assign story to sprint by dragging it to sprint story list.
    </div>

    <div class="row-fluid backlog">
        <div class="span6">
            <h4>Backlog</h4>
            <ul class="nav nav-tabs nav-stacked">
                {{#each backlog}}
                <li>
                    <a href="javascript: void(0);">{{formattedTitle}}</a>
                </li>
                {{/each}}
            </ul>
        </div>
        <div class="span6">
            <h4>Sprints</h4>

            <div class="accordion" id="backlogAccordion">
                {{#each sprints}}
                <div class="accordion-group">
                    <div class="accordion-heading alert-info">
                        <a class="accordion-toggle" data-toggle="collapse" href="#sprintContent_{{id}}">
                            <strong>{{title}}</strong>
                            <span class="pull-right text-small">{{formattedDuration}}</span>
                        </a>
                    </div>
                    <div id="sprintContent_{{id}}" class="accordion-body collapse ">
                        <div class="accordion-inner">
                            <ul class="nav nav-tabs nav-stacked" data-sprint-id="{{id}}">
                                {{#each stories}}
                                <li>
                                    <a href="javascript: void(0);">{{title}} ({{estimate}})</a>
                                </li>
                                {{/each}}
                            </ul>
                        </div>
                    </div>
                </div>
                {{/each}}
            </div>
        </div>
    </div>
</script>
