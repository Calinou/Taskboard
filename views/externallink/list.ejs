<p>
    Below you see all external links that are attached to this project. You can attach any of these
    links to stories and tasks with specified parameters. Main purpose of these links is to provide
    means to connect external systems to task and story objects. Attached links are shown in tooltips
    and in separate tab in modals.
</p>

<table id="externalLinksTable" class="table table-striped table-hover table-condensed">
    <thead>
        <tr>
            <th>
                <a href="javascript: void(0);" class="btn btn-default btn-icon tooltipTitle" title="Add new external link"
                    data-qtip-options='{ "position": {"my": "center right", "at": "center left"} }'
                    data-add-new-link="true"
                    data-project-id="<%= projectId %>"
                >
                    <i class="fa fa-plus"></i>
                </a>
            </th>
            <th class="col-md-3">Link Identifier</th>
            <th class="col-md-7">URL</th>
            <th class="col-md-1 text-right">Parameters</th>
            <th class="col-md-1 text-right">Links</th>
        </tr>
    </thead>
    <tbody>
    <% _.each(links, function(link) { %>
        <tr>
            <td>
                <a class="actionMenu-toggle btn btn-icon btn-default" href="javascript: void(0);" data-popover="true">
                    <i class="fa fa-chevron-down"></i>
                </a>
                <div class="hidden">
                    <div class="actionMenu">
                        <ul class="actionMenu-actions">
                            <li>
                                <a href="javascript: void(0);"
                                    data-link-id="<%= link.id %>"
                                    data-project-id="<%= projectId %>"
                                    data-action="projectExternalLinksEdit"
                                >
                                    <i class="fa fa-wrench"></i> Edit external link
                                </a>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <a href="javascript: void(0);" class="text-danger"
                                    data-link-id="<%= link.id %>"
                                    data-project-id="<%= projectId %>"
                                    data-action="projectExternalLinksDelete"
                                >
                                    <i class="fa fa-trash-o"></i> Delete external link
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </td>
            <td class="text-nowrap"><%= link.title %></td>
            <td><%= link.link %></td>
            <td class="text-right text-nowrap"><%= link.parameters.length %></td>
            <td class="text-right text-nowrap"><%= link.attachedLinksCount %></td>
        </tr>
    <% }) %>

    <% if (links.length === 0) { %>
        <tr>
            <td colspan="100%" class="text-center">
                <em class="text-muted">No external links...</em>
            </td>
        </tr>
    <% } %>
    </tbody>
</table>