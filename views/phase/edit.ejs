<div class="alert alert-info">
    <button type="button" class="close" data-dismiss="alert">&times;</button>
    You can <strong>change phases order</strong> by simply just dragging phase rows. Please note that phase order and
    other changes are saved on click of <strong>Save</strong> button.
</div>

<form>
    <table id="projectPhases" class="table table-striped table-hover table-condensed">
        <thead>
        <tr>
            <th colspan="2">Name of the phase</th>
            <th>Color</th>
            <th class="text-center"><i class="fa fa-question-circle tooltipTitle" title="Select phase which indicates that task is done.<br /><br />Tasks in this phase are not assigned to new story on splitting story."></i></th>
            <th colspan="3">Target task count</th>
        </tr>
        </thead>
        <tbody>
        <% _.each(phases, function(phase) { %>
        <tr class="form-group" data-phase-id="<%= phase.id %>">
            <td class="text-center" style="padding-left: 10px; cursor: n-resize;">
                <i class="fa fa-arrows-v"></i>
            </td>
            <td style="width: 100%;">
                <input type="text" name="title[]" class="form-control" value="<%= phase.title %>" placeholder="enter phase name" />
            </td>
            <td class="text-nowrap">
                <input type="text" name="backgroundColor[]" class="form-control text-center colorPicker" value="<%= phase.backgroundColor %>" />
            </td>
            <td>
                <input type="radio" name="isDone[]" value="1" <% if (phase.isDone) { %><%= checked="checked" %><% } %> />
            </td>
            <td style="padding: 0 10px;">
                <input type="text" name="tasks[]" class="slider slider-phase-task" value="<%= phase.tasks %>"
                    data-slider-min="0"
                    data-slider-max="10"
                    data-slider-step="1"
                    data-slider-value="<%= phase.tasks %>"
                >
                <input type="hidden" name="order[]" value="<%= phase.order %>" />
                <input type="hidden" name="id[]" value="<%= phase.id %>" />
            </td>
            <td>
                <% if (phase.tasks) { %>
                    <%= phase.tasks %>
                <% } else { %>
                    unlimited
                <% } %>
            </td>
            <td>
                <button class="btn btn-danger btn-xs phaseDelete tooltipTitle" type="button" title="Delete phase"
                    data-qtip-options='{ "position": {"my": "center left", "at": "center right"} }'
                >
                    <i class="fa fa-trash-o"></i>
                </button>
            </td>
        </tr>
        <% }) %>
        </tbody>
    </table>
</form>

<div class="hidden">
    <table id="projectPhasesNew">
        <tr class="form-group">
            <td class="text-center" style="padding-left: 10px; cursor: n-resize;">
                <i class="fa fa-arrows-v"></i>
            </td>
            <td>
                <input type="text" name="title[]" class="form-control" value="" placeholder="enter phase name" />
            </td>
            <td class="text-nowrap">
                <input type="text" name="backgroundColor[]" class="form-control text-center colorPicker_" value="#428bca" />
            </td>
            <td>
                <input type="radio" name="isDone[]" value="1" />
            </td>
            <td style="padding: 0 10px;">
                <input type="text" name="tasks[]" class="slider slider-phase-task" value="0"
                    data-slider-min="0"
                    data-slider-max="10"
                    data-slider-step="1"
                    data-slider-value="0"
                >
                <input type="hidden" name="order[]" value="" />
                <input type="hidden" name="id[]" value="" />
            </td>
            <td>unlimited</td>
            <td>
                <button class="btn btn-danger btn-xs phaseDelete tooltipTitle" type="button" title="Delete phase"
                        data-qtip-options='{ "position": {"my": "center left", "at": "center right"} }'
                        >
                    <i class="fa fa-trash-o"></i>
                </button>
            </td>
        </tr>
    </table>
</div>